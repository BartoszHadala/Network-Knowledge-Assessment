<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="103px" preserveAspectRatio="none" style="width:235px;height:103px;background:#000000;" version="1.1" viewBox="0 0 235 103" width="235px" zoomAndPan="magnify"><defs/><g><rect fill="#062102" height="1" style="stroke: #062102; stroke-width: 1.0;" width="1" x="0" y="0"/><rect fill="#33FF02" height="24.0679" style="stroke: #33FF02; stroke-width: 1.0;" width="229" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="6" y="20">[From diagrams.puml (line 202) ]</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="9" y="43.0679"/><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="5" y="62.1358">@startuml sequence_serverinfo</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="5" y="81.2038">!theme plain</text><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="9" y="100.2717">Syntax Error?</text><!--MD5=[bd5f8bb0ad015e3beb7199c594ad3dae]
@startuml sequence_serverinfo
!theme plain
title Sequence Diagram - Server Information

actor User
participant "Client" as C
participant "Server" as S
participant "Statistics" as ST
participant "Quiz DB" as Q

User -> C: Select option 4\n(Server Info)
C -> S: REQUEST_SERVER_INFO

S -> ST: Lock stats_mutex
activate ST
ST -> ST: current_time = time(NULL)
ST -> ST: uptime = current_time - start_time
ST -> ST: avg_score = total_score / tests_completed
ST -> S: Return all statistics
deactivate ST
S -> S: Unlock stats_mutex

S -> Q: Get quiz_db.count
activate Q
Q -> S: Number of questions
deactivate Q

S -> C: SERVER_INFO_DATA\n{uptime, connections,\ntests, avg_score, best_score,\nbest_player, port, ...}

C -> C: Parse data
C -> C: Format uptime\n(days, hours, minutes)
C -> User: Display info:\n╔═══════════════════╗\n║ SERVER INFO       ║\n╠═══════════════════╣\n║ Uptime: 2h 34m    ║\n║ Connections: 47   ║\n║ Tests: 15         ║\n║ Avg Score: 7/10   ║\n║ Best: Janek 10/10 ║\n╚═══════════════════╝

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: pl
Country: PL
--></g></svg>